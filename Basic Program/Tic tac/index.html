<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Tic-Tac-Toe</title>

<style>
:root{
  --bg:#0f1724;
  --card:#0b1220;
  --accent:#10b981;
  --muted:#94a3b8;
  --cell-size:92px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  background:linear-gradient(180deg,#061021 0%, #071428 100%);
  color:#e6eef5;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:24px;
}

.container{
  width:100%;
  max-width:560px;
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:16px;
  padding:20px;
  box-shadow: 0 10px 30px rgba(2,6,23,0.6);
  text-align:center;
}

h1{margin:0 0 12px 0; font-size:28px; letter-spacing:0.6px}

.status{
  margin-bottom:14px;
  color:var(--muted);
}

.board{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
  justify-items:center;
  margin:0 auto 14px;
  padding:10px;
  width:calc(var(--cell-size) * 3 + 20px);
  max-width:100%;
}

.cell{
  width:var(--cell-size);
  height:var(--cell-size);
  background:transparent;
  border-radius:12px;
  border:2px solid rgba(255,255,255,0.06);
  font-size:44px;
  font-weight:700;
  color:#f8fafc;
  display:inline-grid;
  place-items:center;
  cursor:pointer;
  transition:transform .12s ease, background .12s ease, box-shadow .12s ease;
  user-select:none;
}

.cell:focus{outline:3px solid rgba(16,185,129,0.12); transform:scale(1.02)}
.cell:hover{transform:translateY(-4px)}
.cell[disabled]{cursor:default; opacity:0.9; transform:none}

.controls{
  display:flex;
  gap:10px;
  justify-content:center;
  margin-bottom:12px;
}

.controls button{
  background:transparent;
  border:2px solid rgba(255,255,255,0.06);
  padding:8px 14px;
  border-radius:10px;
  color:inherit;
  cursor:pointer;
  font-weight:600;
}

.controls button#reset{border-color:var(--accent); background:linear-gradient(90deg, rgba(16,185,129,0.06), transparent)}
.controls button#undo{opacity:0.8}

.credits{color:var(--muted); margin-top:6px; font-size:13px}

.cell.winner{
  background:linear-gradient(90deg, rgba(16,185,129,0.12), rgba(16,185,129,0.04));
  box-shadow: 0 8px 30px rgba(16,185,129,0.06);
}

@media (max-width:420px){
  :root{--cell-size:72px}
  h1{font-size:20px}
}
</style>
</head>

<body>
<main class="container">
  <h1>Tic-Tac-Toe</h1>

  <section class="status" id="status" aria-live="polite">
    <span id="turn">Player X's turn</span>
  </section>

  <section class="board" id="board">
    <button class="cell" data-index="0"></button>
    <button class="cell" data-index="1"></button>
    <button class="cell" data-index="2"></button>
    <button class="cell" data-index="3"></button>
    <button class="cell" data-index="4"></button>
    <button class="cell" data-index="5"></button>
    <button class="cell" data-index="6"></button>
    <button class="cell" data-index="7"></button>
    <button class="cell" data-index="8"></button>
  </section>

  <div class="controls">
    <button id="reset">Reset Game</button>
    <button id="undo">Undo</button>
  </div>

  <footer class="credits">
    <small>Built with HTML, CSS & JavaScript - Janani V S</small>
  </footer>
</main>

<script>
// === GAME LOGIC ===

// Elements
const statusEl = document.getElementById('turn');
const resetBtn = document.getElementById('reset');
const undoBtn = document.getElementById('undo');

let board = Array(9).fill(null);
let currentPlayer = 'X';
let running = true;
let moveHistory = [];

const winningCombos = [
  [0,1,2],[3,4,5],[6,7,8],
  [0,3,6],[1,4,7],[2,5,8],
  [0,4,8],[2,4,6]
];

function updateStatus(text){
  statusEl.textContent = text;
}

function init(){
  const cells = document.querySelectorAll('.cell');
  cells.forEach((cell, idx) => {
    cell.addEventListener('click', () => cellClick(idx));
  });

  resetBtn.addEventListener('click', resetGame);
  undoBtn.addEventListener('click', undoMove);

  render();
}

function render(){
  const cells = document.querySelectorAll('.cell');
  cells.forEach((cell, idx) => {
    cell.textContent = board[idx] || '';
    cell.disabled = !running || board[idx];
    cell.classList.remove('winner');
  });

  if(running){
    updateStatus(`Player ${currentPlayer}'s turn`);
  }
}

function cellClick(index){
  if(!running || board[index]) return;

  board[index] = currentPlayer;
  moveHistory.push(index);

  checkGame();

  if(running){
    currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
  }

  render();
}

function checkGame(){
  for(const combo of winningCombos){
    const [a,b,c] = combo;
    if(board[a] && board[a] === board[b] && board[a] === board[c]){
      running = false;
      highlight(combo);
      updateStatus(`Player ${board[a]} Wins!`);
      return;
    }
  }

  if(board.every(cell => cell)){
    running = false;
    updateStatus("It's a tie!");
  }
}

function highlight(combo){
  combo.forEach(i=>{
    document.querySelector(`.cell[data-index='${i}']`)
      .classList.add('winner');
  });
}

function resetGame(){
  board = Array(9).fill(null);
  currentPlayer = 'X';
  running = true;
  moveHistory = [];
  render();
}

function undoMove(){
  if(moveHistory.length === 0 || !running) return;

  const last = moveHistory.pop();
  board[last] = null;
  currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
  render();
}

init();
</script>

</body>
</html>
